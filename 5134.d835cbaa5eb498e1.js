"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5134],{5134:(O,u,i)=>{i.r(u),i.d(u,{ProductsPage:()=>f});var l=i(467),_=i(177),g=i(4341),r=i(543),t=i(4438),p=i(8986),h=i(9438),P=i(6868);const m=(c,d)=>d.id;function v(c,d){if(1&c){const n=t.RV6();t.j41(0,"ion-row",9)(1,"ion-col",11)(2,"div",12),t.bIt("click",function(){const o=t.eBV(n).$implicit,s=t.XpG();return t.Njj(s.addToCart(o))}),t.j41(3,"div",13)(4,"p",14),t.EFF(5),t.k0s(),t.j41(6,"p",15),t.EFF(7),t.k0s()(),t.j41(8,"div",16)(9,"ion-icon",17),t.bIt("click",function(){const o=t.eBV(n).$implicit,s=t.XpG();return t.Njj(s.addToCart(o))}),t.k0s()()()()()}if(2&c){const n=d.$implicit,e=t.XpG();t.R7$(5),t.JRh(n.name),t.R7$(2),t.JRh(n.price.toString().includes(".")?n.price.toString().replace(".",",")+"0\u20ac":n.price+",00\u20ac"),t.R7$(),t.muq("background-image: url(",e.productImage[n.id],"); background-size: cover; background-position: center; height: 70px;")}}let f=(()=>{var c;class d{setOpen(e){this.isAlertOpen=e}constructor(e,o,s,a){this.route=e,this.router=o,this.productService=s,this.cartService=a,this.categoryImage={0:"../../assets/poissons.jpg",1:"../../assets/fruit.jpg",2:"../../assets/crustace.jpg",3:"../../assets/images/promo.png"},this.products=[],this.isAlertOpen=!1,this.alertButtons=["Ok"]}ngOnInit(){var e=this;return(0,l.A)(function*(){e.productImage=e.productService.getProductImages(),e.route.queryParams.subscribe(o=>{var s,a;null!==(s=e.router.getCurrentNavigation())&&void 0!==s&&s.extras.state&&(e.category=null===(a=e.router.getCurrentNavigation())||void 0===a||null===(a=a.extras.state)||void 0===a?void 0:a.category,e.loadProducts())})})()}loadProducts(){3==this.category.id?this.productService.getProductOnSale().subscribe(e=>{this.products=e,console.log(this.products)}):this.productService.getProductsByCategory(this.category.id).subscribe(e=>{this.products=e})}addToCart(e){this.cartService.addToCart(e),this.setOpen(!0),this.productAdded="Produit ajout\xe9 au panier : "+e.name,this.productAddedPrice="Prix : "+e.price+" \u20ac"}}return(c=d).\u0275fac=function(e){return new(e||c)(t.rXU(p.nX),t.rXU(p.Ix),t.rXU(h.g),t.rXU(P.m))},c.\u0275cmp=t.VBU({type:c,selectors:[["app-products"]],standalone:!0,features:[t.aNF],decls:17,vars:10,consts:[[3,"translucent"],["slot","start"],["defaultHref","/product-categories"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"header-content",3,"scrollY"],[2,"width","100%","height","100%","object-fit","cover",3,"src"],[1,"product-grid"],[1,"product-row"],[3,"didDismiss","isOpen","header","subHeader","buttons"],["size","12"],[1,"product-div",3,"click"],[1,"product-div-left"],[1,"product-title"],[1,"product-price"],[1,"product-div-right"],["src","../../assets/add_16dp_5F6368_FILL0_wght400_GRAD0_opsz20 (copy).svg",1,"add-cart-btn",3,"click"]],template:function(e,o){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.nrm(3,"ion-back-button",2),t.k0s()()(),t.j41(4,"ion-content",3)(5,"ion-header",4)(6,"ion-toolbar")(7,"ion-title",5),t.EFF(8),t.k0s()()(),t.j41(9,"ion-content",6),t.nrm(10,"ion-img",7),t.k0s(),t.j41(11,"h1"),t.EFF(12),t.k0s(),t.j41(13,"ion-grid",8),t.Z7z(14,v,10,5,"ion-row",9,m),t.k0s()(),t.j41(16,"ion-alert",10),t.bIt("didDismiss",function(){return o.setOpen(!1)}),t.k0s()),2&e&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(4),t.JRh(o.category.name),t.R7$(),t.Y8G("scrollY",!1),t.R7$(),t.FS9("src",o.categoryImage[o.category.id]),t.R7$(2),t.SpI("",o.category.name," "),t.R7$(2),t.Dyx(o.products),t.R7$(2),t.Y8G("isOpen",o.isAlertOpen)("header",o.productAdded)("subHeader",o.productAddedPrice)("buttons",o.alertButtons))},dependencies:[r.hU,r.ln,r.lO,r.W9,r.eU,r.BC,r.ai,_.MD,g.YN,r.iq,r.KW,r.Zy,r.el,r.QW],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.header-content[_ngcontent-%COMP%]{height:200px;background-color:red;scroll-behavior:unset}h1[_ngcontent-%COMP%]{text-align:center;padding-top:10px}.product-row[_ngcontent-%COMP%]{height:90px;border-bottom:1px solid #ccc}.product-div[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;padding:4px 10px}.product-div-right[_ngcontent-%COMP%]{height:70px;width:70px;border-radius:10px;position:relative}.add-cart-btn[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:2px;height:20px;width:20px;background-color:#fff;border-radius:100%;box-shadow:0 4px 6px #0000001a}.product-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:400}.product-price[_ngcontent-%COMP%]{font-size:1em;font-weight:300}ion-header[_ngcontent-%COMP%]{--background: #f4f5f8;--color: #000;--opacity: .5}ion-toolbar[_ngcontent-%COMP%]{--background: #f4f5f8;--color: #000;--opacity: .5}"]}),d})()}}]);